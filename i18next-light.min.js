!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self)["i18next-light"]=n()}(this,function(){"use strict";const e={name:"consoleLogger",log:(...e)=>{"undefined"!=typeof console&&console.log(...e)},warn:(...e)=>{"undefined"!=typeof console&&console.warn(...e)},error:(...e)=>{"undefined"!=typeof console&&console.error(...e)}},n=(r=e,t={})=>{let o,s,a,l;const i=(n,r)=>{o=n||e,s=(a=r||a).prefix||"i18next-light:",l=a.debug},c=(e,n,r="",t)=>{if(!t||l)return"string"==typeof(e=[...e])[0]&&(e[0]=`${r}${s} ${e[0]}`),o[n](...e)};return i(r,t),{init:i,setDebug:e=>{l=e},log:(...e)=>c(e,"log","",!0),warn:(...e)=>c(e,"warn","",!0),error:(...e)=>c(e,"error",""),deprecate:(...e)=>c(e,"warn","WARNING DEPRECATED: ",!0),create:e=>n(o,{prefix:`${s}:${e}:`,...a})}};var r=n();const t=e=>e.charAt(0).toUpperCase()+e.slice(1),o=e=>{if("string"==typeof e&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return 2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=t(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=t(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=t(r[2].toLowerCase()))),r.join("-")}return e},s=e=>{if(!e||e.indexOf("-")<0)return e;const n=e.split("-");return o(n[0])},a={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0===e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1===e?0:2===e?1:(e<0||e>10)&&e%10==0?2:3)},l=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}].reduce((e,n)=>(Object.assign(e,n.lngs.reduce((e,r)=>(e[r]={numbers:n.nr,plurals:a[n.fc]},e),{})),e),{}),i=r.create("pluralResolver"),c=e=>l[e]||l[s(e)],f=(e,n)=>{const r=c(e);if(!r)return i.warn(`no plural rule found for: ${e}`),"";const t=r.noAbs?r.plurals(n):r.plurals(Math.abs(n));if(2===r.numbers.length&&1===r.numbers[0]){let e=r.numbers[t];2===e?e="plural":1===e&&(e="");const n=e.toString();return n&&"_"+n}const o=t.toString();return o&&"_"+o},u=f,g=e=>null==e?"":`${e}`,p=e=>e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e,d=(e,n)=>{const{obj:r,k:t}=((e,n)=>{const r=()=>!e||"string"==typeof e,t="string"!=typeof n?[].concat(n):n.split(".");for(;t.length>1;){if(r())return{};const n=p(t.shift());e=e[n]}return r()?{}:{obj:e,k:p(t.shift())}})(e,n);if(r)return r[t]},b=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},y=e=>"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>m[e]):e,x=b("$t("),h=b(")"),$=e=>e.replace(/\$/g,"$$$$"),w={debug:!1,resources:{},maxReplaces:1e3,interpolationFormat:(e,n,r)=>e,logger:void 0,logPrefix:void 0},v=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return(e={})=>{e={...w,...e},r.init(e.logger,{debug:e.debug,prefix:e.logPrefix});const n=r;e.lng||n.warn("init: no lng is defined");const t=((e={})=>{const n=r.create("interpolator"),t=e.interpolationFormat||(e=>e),o=e.maxReplaces||1e3;let s,a,l;const i=()=>{s=new RegExp("{{(.+?)}}","g"),a=new RegExp("{{-(.+?)}}","g"),l=new RegExp(`${x}(.+?)${h}`,"g")};i();const c=(e,r,l,c)=>{const f=e=>{if(e.indexOf(",")<0)return d(r,e);const n=e.split(","),o=n.shift().trim(),s=n.join(",").trim();return t(d(r,o),s,l,c)};let u,p;for(i(),p=0;u=a.exec(e);){let r=f(u[1].trim());if(void 0===r?(n.warn(`missed to pass in variable ${u[1]} for interpolating ${e}`),r=""):"string"!=typeof r&&(r=g(r)),e=e.replace(u[0],$(r)),a.lastIndex=0,++p>=o)break}for(p=0;u=s.exec(e);){let r=f(u[1].trim());if(void 0===r?(n.warn(`missed to pass in variable ${u[1]} for interpolating ${e}`),r=""):"string"!=typeof r&&(r=g(r)),r=$(y(r)),e=e.replace(u[0],r),s.lastIndex=0,++p>=o)break}return e};return{maxReplaces:o,interpolate:c,nest:(e,r,o,s={})=>{let a,i,f={...s};delete f.defaultValue;const u=(e,r)=>{if(e.indexOf(",")<0)return e;const t=e.split(new RegExp(",[ ]*{"));let o=`{${t[1]}`;e=t[0],o=(o=c(o,f)).replace(/'/g,'"');try{f=JSON.parse(o),r&&(f={...r,...f})}catch(r){return n.warn(`failed parsing options string in nesting for key ${e}`,r),`${e},${o}`}return delete f.defaultValue,e};for(;a=l.exec(e);){let c=[],p=!1;if(a[0].includes(",")&&!/{.*}/.test(a[1])&&([a[1],...c]=a[1].split(",").map(e=>e.trim()),p=!0),(i=r(u(a[1].trim(),f),f))&&a[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=g(i)),i||(n.warn(`missed to resolve ${a[1]} for nesting ${e}`),i=""),p&&(i=c.reduce((e,n)=>t(e,n,o,s),i.trim())),e=e.replace(a[0],i),l.lastIndex=0}return e}}})(e),o=((e,n={})=>{const t=r.create("translator"),o=n,s=n.resources||{},a=(e,n={})=>{"string"==typeof e&&(e=[e]);const r=void 0!==n.count&&"string"!=typeof n.count,t=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,a=r&&u(o.lng,n.count),l=t&&`_${n.context}`;for(const n of e){const e=[r&&t&&`${n}${l}${a}`,t&&`${n}${l}`,r&&`${n}${a}`,n].filter(Boolean);for(const r of e){const e=s[r];if(void 0!==e)return{res:e,usedKey:n,exactUsedKey:r}}}},l=(e,n={})=>{if("string"==typeof n&&(n={defaultValue:n}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=a(e,n);let s=r&&r.res;const l=Object.prototype.toString.apply(s);if(s&&"string"!=typeof s&&"boolean"!=typeof s&&"number"!=typeof s&&["[object Number]","[object Function]","[object RegExp]"].indexOf(l)<0)return t.warn("accessing an object"),`key '${e[e.length-1]} (${o.lng})' returned an object instead of string.`;{let r=!1,a=!1;void 0===s&&void 0!==n.defaultValue&&(r=!0,void 0!==n.count&&(s=n[`defaultValue${u(o.lng,n.count)}`]),s||(s=n.defaultValue)),void 0===s&&(a=!0,s=e[e.length-1]),(a||r)&&t.log("missingKey",o.lng,e[e.length-1],s),s=i(s,n)}return s},i=(n,r)=>{let t=e.interpolate(n,r,o.lng,r);return e.nest(t,(...e)=>l(...e),o.lng,r)};return{exists:(e,n)=>{const r=a(e,n);return r&&void 0!==r.res||!1},translate:l,resolve:a}})(t,e);return{options:e,interpolator:t,translator:o,t:(...e)=>o.translate(...e),exists:(...e)=>o.exists(...e),dir:e=>e?v.indexOf(s(e))>=0?"rtl":"ltr":"rtl"}}});
