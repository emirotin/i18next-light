!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e=e||self)["i18next-light"]=r()}(this,function(){"use strict";const e={name:"consoleLogger",log:(...e)=>{console&&console.log(...e)},warn:(...e)=>{console&&console.warn(...e)},error:(...e)=>{console&&console.error(...e)}},r=(n=e,t={})=>{let s,o,a,l;const i=(r,n)=>{s=r||e,o=(a=n||a).prefix||"i18next-light:",l=a.debug},c=(e,r,n="",t)=>{if(!t||l)return"string"==typeof(e=[...e])[0]&&(e[0]=`${n}${o} ${e[0]}`),s[r](...e)};return i(n,t),{init:i,setDebug:e=>{l=e},log:(...e)=>c(e,"log","",!0),warn:(...e)=>c(e,"warn","",!0),error:(...e)=>c(e,"error",""),deprecate:(...e)=>c(e,"warn","WARNING DEPRECATED: ",!0),create:e=>r(s,{prefix:`${o}:${e}:`,...a})}};var n=r();const t=e=>e.charAt(0).toUpperCase()+e.slice(1),s=e=>{if("string"==typeof e&&e.indexOf("-")>-1){const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return 2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=t(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=t(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=t(n[2].toLowerCase()))),n.join("-")}return e},o=e=>{if(!e||e.indexOf("-")<0)return e;const r=e.split("-");return s(r[0])},a={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0===e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1===e?0:2===e?1:(e<0||e>10)&&e%10==0?2:3)},l=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}].reduce((e,r)=>(Object.assign(e,r.lngs.reduce((e,n)=>(e[n]={numbers:r.nr,plurals:a[r.fc]},e),{})),e),{}),i=n.create("pluralResolver"),c=e=>l[e]||l[o(e)],u=(e,r)=>{const n=c(e);if(!n)return i.warn(`no plural rule found for: ${e}`),"";const t=n.noAbs?n.plurals(r):n.plurals(Math.abs(r));if(2===n.numbers.length&&1===n.numbers[0]){let e=n.numbers[t];2===e?e="plural":1===e&&(e="");const r=e.toString();return r&&"_"+r}const s=t.toString();return s&&"_"+s},f=u,g=e=>null==e?"":`${e}`,p=e=>e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e,d=(e,r)=>{const{obj:n,k:t}=((e,r)=>{const n=()=>!e||"string"==typeof e,t="string"!=typeof r?[].concat(r):r.split(".");for(;t.length>1;){if(n())return{};const r=p(t.shift());e=e[r]}return n()?{}:{obj:e,k:p(t.shift())}})(e,r);if(n)return n[t]},b=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},y=e=>"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>m[e]):e,h=b("$t("),x=b(")"),$=e=>e.replace(/\$/g,"$$$$"),w={debug:!1,resources:{},maxReplaces:1e3,interpolationFormat:(e,r,n,t)=>e,logger:void 0},v=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return(e={})=>{e={...w,...e},n.init(e.logger,{debug:e.debug});const r=n;e.lng||r.warn("init: no lng is defined");const t=((e={})=>{const r=n.create("interpolator"),t=e.interpolationFormat||(e=>e),s=e.maxReplaces||1e3;let o,a,l;const i=()=>{o=new RegExp("{{(.+?)}}","g"),a=new RegExp("{{-(.+?)}}","g"),l=new RegExp(`${h}(.+?)${x}`,"g")};i();const c=(e,n,l,c)=>{const u=e=>{if(e.indexOf(",")<0)return d(n,e);const r=e.split(","),s=r.shift().trim(),o=r.join(",").trim();return t(d(n,s),o,l,c)};let f,p;for(i(),p=0;f=a.exec(e);){let n=u(f[1].trim());if(void 0===n?(r.warn(`missed to pass in variable ${f[1]} for interpolating ${e}`),n=""):"string"!=typeof n&&(n=g(n)),e=e.replace(f[0],$(n)),a.lastIndex=0,++p>=s)break}for(p=0;f=o.exec(e);){let n=u(f[1].trim());if(void 0===n?(r.warn(`missed to pass in variable ${f[1]} for interpolating ${e}`),n=""):"string"!=typeof n&&(n=g(n)),n=$(y(n)),e=e.replace(f[0],n),o.lastIndex=0,++p>=s)break}return e};return{maxReplaces:s,interpolate:c,nest:(e,n,s,o={})=>{let a,i,u={...o};delete u.defaultValue;const f=(e,n)=>{if(e.indexOf(",")<0)return e;const t=e.split(new RegExp(",[ ]*{"));let s=`{${t[1]}`;e=t[0],s=(s=c(s,u)).replace(/'/g,'"');try{u=JSON.parse(s),n&&(u={...n,...u})}catch(n){return r.warn(`failed parsing options string in nesting for key ${e}`,n),`${e},${s}`}return delete u.defaultValue,e};for(;a=l.exec(e);){let c=[],p=!1;if(a[0].includes(",")&&!/{.*}/.test(a[1])&&([a[1],...c]=a[1].split(",").map(e=>e.trim()),p=!0),(i=n(f(a[1].trim(),u),u))&&a[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=g(i)),i||(r.warn(`missed to resolve ${a[1]} for nesting ${e}`),i=""),p&&(i=c.reduce((e,r)=>t(e,r,s,o),i.trim())),e=e.replace(a[0],i),l.lastIndex=0}return e}}})(e),s=((e,r={})=>{const t=n.create("translator"),s=r,o=r.resources||{},a=(e,r={})=>{"string"==typeof e&&(e=[e]);const n=void 0!==r.count&&"string"!=typeof r.count,t=void 0!==r.context&&"string"==typeof r.context&&""!==r.context;for(const a of e){const e=[a],l=n&&f(s.lng,r.count);let i=a;n&&t&&e.push(i+l),t&&(i+=`_${r.context}`,e.push(i)),n&&e.push(i+l);for(const r of e.reverse()){const e=o[r];if(void 0!==e)return{res:e,usedKey:a,exactUsedKey:r}}}},l=(e,r={})=>{if("string"==typeof r&&(r={defaultValue:r}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const n=a(e,r);let o=n&&n.res;const l=Object.prototype.toString.apply(o);if(o&&"string"!=typeof o&&"boolean"!=typeof o&&"number"!=typeof o&&["[object Number]","[object Function]","[object RegExp]"].indexOf(l)<0)return t.warn("accessing an object"),`key '${e[e.length-1]} (${s.lng})' returned an object instead of string.`;{let n=!1,a=!1;void 0===o&&void 0!==r.defaultValue&&(n=!0,void 0!==r.count&&(o=r[`defaultValue${f(s.lng,r.count)}`]),o||(o=r.defaultValue)),void 0===o&&(a=!0,o=e[e.length-1]),(a||n)&&t.log("missingKey",s.lng,e[e.length-1],o),o=i(o,r)}return o},i=(r,n)=>{let t=e.interpolate(r,n,s.lng,n);return e.nest(t,(...e)=>l(...e),s.lng,n)};return{exists:(e,r)=>{const n=a(e,r);return n&&void 0!==n.res||!1},translate:l,resolve:a}})(t,e);return{options:e,interpolator:t,translator:s,t:(...e)=>s.translate(...e),exists:(...e)=>s.exists(...e),dir:e=>e?v.indexOf(o(e))>=0?"rtl":"ltr":"rtl"}}});
