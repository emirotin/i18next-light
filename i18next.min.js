!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).i18next=e()}(this,function(){"use strict";function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}function u(t){return function(t){if(Array.isArray(t))return o(t)}(t)||i(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?s(Object(n),!0).forEach(function(r){t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var r;console&&console[t]&&(r=console)[t].apply(r,u(e))}},f=new(function(){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,t),this.init(r,n)}return n(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||l,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,r,n){return n&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(r).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,c(c({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}}]),t}());function p(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(t,e)}(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var h=function(){function t(r){var n=r.pluralResolver,o=r.interpolator,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,t),this.pluralResolver=n,this.interpolator=o,this.options=i,this.logger=f.create("translator")}return n(t,[{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},r=this.resolve(t,e);return r&&void 0!==r.res}},{key:"translate",value:function(t,e){if("string"==typeof e?e={defaultValue:e}:e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var r=this.options.lng,n=this.resolve(t,e),o=n&&n.res,i=(n&&n.usedKey||key,Object.prototype.toString.apply(o));if((!this.i18nFormat||this.i18nFormat.handleAsObject)&&o&&("string"!=typeof o&&"boolean"!=typeof o&&"number"!=typeof o)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(i)<0)return this.logger.warn("accessing an object"),"key '".concat(key," (").concat(this.language,")' returned an object instead of string.");var a=!1,u=!1;if(void 0===o&&void 0!==e.defaultValue){if(a=!0,void 0!==e.count){var s=this.pluralResolver.getSuffix(r,e.count);o=e["defaultValue".concat(s)]}o||(o=e.defaultValue)}return void 0===o&&(u=!0,o=key),(u||a)&&this.logger.log("missingKey",r,key,o),o=this.extendTranslation(o,t,e,n)}},{key:"extendTranslation",value:function(t,e,r,n){var o=this;this.interpolator.reset();var i=r.replace&&"string"!=typeof r.replace?r.replace:r;return t=this.interpolator.interpolate(t,i,r.lng||this.language,r),!1!==r.nest&&(t=this.interpolator.nest(t,function(){return o.translate.apply(o,arguments)},r)),t}},{key:"resolve",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t=[t]);var r,n=void 0!==e.count&&"string"!=typeof e.count,o=void 0!==e.context&&"string"==typeof e.context&&""!==e.context,i=p(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,u=[a],s=n&&this.pluralResolver.getSuffix(this.options.lng,e.count),c=a;n&&o&&u.push(c+s),o&&(c+="".concat("_").concat(e.context),u.push(c)),n&&u.push(c+s);var l,f=p(u.reverse());try{for(f.s();!(l=f.n()).done;){var g=l.value,h=this.resources[g];if(void 0!==h)return{res:h,usedKey:a,exactUsedKey:g}}}catch(t){f.e(t)}finally{f.f()}}}catch(t){i.e(t)}finally{i.f()}}}]),t}();function y(t){return t.charAt(0).toUpperCase()+t.slice(1)}var v=function(){function t(r){e(this,t),this.options=r}return n(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],r=t.split("-");return this.options.lowerCaseLng?r=r.map(function(t){return t.toLowerCase()}):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),e.indexOf(r[1].toLowerCase())>-1&&(r[1]=y(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),e.indexOf(r[1].toLowerCase())>-1&&(r[1]=y(r[1].toLowerCase())),e.indexOf(r[2].toLowerCase())>-1&&(r[2]=y(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}}]),t}(),b={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||t>10)&&t%10==0?2:3)}},d=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}].reduce(function(t,e){return Object.assign(t,e.lngs.reduce(function(t,r){return t[r]={numbers:e.nr,plurals:b[e.fc]},t},{})),t},{}),m=function(){function t(r){e(this,t),this.languageUtils=r,this.logger=f.create("pluralResolver")}return n(t,[{key:"getRule",value:function(t){return d[t]||d[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var r=this,n=this.getRule(t);return n?n.numbers.map(function(n){var o=r.getSuffix(t,n);return"".concat(e).concat(o)}):[]}},{key:"getSuffix",value:function(t,e){var r=this.getRule(t);if(!r)return this.logger.warn("no plural rule found for: ".concat(t)),"";var n=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),o=r.numbers[n];if(2===r.numbers.length&&1===r.numbers[0]){2===o?o="plural":1===o&&(o="");var i=o.toString();return i&&"_"+i}var a=n.toString();return a&&"_"+a}}]),t}();function w(t){return function(t){if(Array.isArray(t))return t}(t)||i(t)||a(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t){return null==t?"":""+t}function x(t,e){var r=function(t,e,r){function n(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function o(){return!t||"string"==typeof t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(o())return{};var a=n(i.shift());!t[a]&&r&&(t[a]=new r),t=t[a]}return o()?{}:{obj:t,k:n(i.shift())}}(t,e),n=r.obj,o=r.k;if(n)return n[o]}function j(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function P(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return k[t]}):t}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?R(Object(n),!0).forEach(function(r){t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=j("$t("),A=j(")"),N=",",E=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),this.logger=f.create("interpolator"),this.options=r,this.format=r.interpolationFormat||function(t){return t},this.maxReplaces=r.maxReplaces||1e3,this.resetRegExp()}return n(t,[{key:"reset",value:function(){this.resetRegExp()}},{key:"resetRegExp",value:function(){this.regexp=new RegExp("".concat("{{","(.+?)").concat("}}"),"g"),this.regexpUnescape=new RegExp("".concat("{{").concat("-","(.+?)").concat("").concat("}}"),"g"),this.nestingRegexp=new RegExp("".concat(S,"(.+?)").concat(A),"g")}},{key:"interpolate",value:function(t,e,r,n){var o,i,a,u=this;function s(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(",")<0)return x(e,t);var o=t.split(","),i=o.shift().trim(),a=o.join(",").trim();return u.format(x(e,i),a,r,n)};for(this.resetRegExp(),a=0;(o=this.regexpUnescape.exec(t))&&(void 0===(i=c(o[1].trim()))?(this.logger.warn("missed to pass in variable ".concat(o[1]," for interpolating ").concat(t)),i=""):"string"!=typeof i&&(i=O(i)),t=t.replace(o[0],s(i)),this.regexpUnescape.lastIndex=0,!(++a>=this.maxReplaces)););for(a=0;(o=this.regexp.exec(t))&&(void 0===(i=c(o[1].trim()))?(this.logger.warn("missed to pass in variable ".concat(o[1]," for interpolating ").concat(t)),i=""):"string"!=typeof i&&(i=O(i)),i=s(P(i)),t=t.replace(o[0],i),this.regexp.lastIndex=0,!(++a>=this.maxReplaces)););return t}},{key:"nest",value:function(t,e){var r,n,o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=C({},i);function u(t,e){var r=N;if(t.indexOf(r)<0)return t;var n=t.split(new RegExp("".concat(r,"[ ]*{"))),o="{".concat(n[1]);t=n[0],o=(o=this.interpolate(o,a)).replace(/'/g,'"');try{a=JSON.parse(o),e&&(a=C(C({},e),a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(r).concat(o)}return delete a.defaultValue,t}for(delete a.defaultValue;r=this.nestingRegexp.exec(t);){var s=[],c=!1;if(r[0].includes(",")&&!/{.*}/.test(r[1])){var l=w(r[1].split(",").map(function(t){return t.trim()}));r[1]=l[0],s=l.slice(1),c=!0}if((n=e(u.call(this,r[1].trim(),a),a))&&r[0]===t&&"string"!=typeof n)return n;"string"!=typeof n&&(n=O(n)),n||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(t)),n=""),c&&(n=s.reduce(function(t,e){return o.format(t,e,i.lng,i)},n.trim())),t=t.replace(r[0],n),this.regexp.lastIndex=0}return t}}]),t}(),L={debug:!1,resources:{},maxReplaces:1e3,interpolationFormat:function(t,e,r,n){return t}};function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?D(Object(n),!0).forEach(function(r){t(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return new(function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),this.options=U(U({},L),r),this.services={},this.logger=f,this.init()}return n(t,[{key:"init",value:function(){this.options.lng||this.logger.warn("init: no lng is defined"),f.init(null,this.options),this.languageUtils=new v(this.options);var t=new m(this.languageUtils),e=new E(this.options);this.translator=new h({pluralResolver:t,interpolator:e},this.options)}},{key:"t",value:function(){var t;return(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return(t=this.translator).exists.apply(t,arguments)}},{key:"dir",value:function(t){return t?I.indexOf(this.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"}}]),t}())});
